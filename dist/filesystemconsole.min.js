(()=>{"use strict";var e,t={46455:(e,t,s)=>{var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content filesystem-editor-cl"},[s("div",{staticClass:"full"},[s("p",[s("label",[s("span",[e._v("Application: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedApp,expression:"selectedApp"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedApp=t.target.multiple?s:s[0]}}},[s("option",[e._v("any")]),e._v(" "),e._l(e.applications,(function(t){return s("option",[e._v(e._s(t))])}))],2)])]),e._v(" "),s("p",[s("label",[s("span",[e._v("User: ")]),s("user-selector",{attrs:{selected:e.selected}})],1)]),e._v(" "),s("p",{staticClass:"center"},[s("button",{attrs:{disabled:null===e.user},on:{click:function(t){return t.preventDefault(),e.query()}}},[e._v("Query")])]),e._v(" "),e.fetched?s("div",[e.results.length>0?s("table",{staticClass:"small"},[e._m(0),e._v(" "),e._l(e.results,(function(t){return s("tr",[s("td",[e._v(e._s(t.user))]),e._v(" "),s("td",[e._v(e._s(t.username))]),e._v(" "),s("td",[s("a",{attrs:{href:e.root+"/cl/filesystem/view/"+t.id,target:"_file"}},[e._v(e._s(t.name))]),e._v(" "),s("a",{attrs:{href:e.root+"/cl/filesystem/download/"+t.id}},[s("img",{attrs:{src:e.root+"/vendor/cl/site/img/download.png"}})])]),e._v(" "),s("td",[e._v(e._s(t.createdStr))]),e._v(" "),s("td",[e._v(e._s(t.modifiedStr))])])}))],2):e._e(),e._v(" "),0===e.results.length?s("p",{staticClass:"centerbox secondb center"},[e._v("No files...")]):e._e()]):e._e(),e._v(" "),s("p",{staticClass:"centerbox primary"},[e._v("CourseLib includes a simple file system that is\n      mainly provided to allow quizzes or other assignments to be persistent in the\n      system and to provide a way for applications such as Cirsim to save and\n      load files. It is not meant to be a way to turn in content, though this interface\n      can be used to load content from the file system for any user.")])])])};i._withStripped=!0;var n=Site.UserSelectorVue;const r={extends:Site.ConsoleComponentBase,data:function(){return{selectedApp:"any",fileUser:null,applications:[],fetched:!1,results:[]}},mounted:function(){var e=this;this.$parent.setTitle(": File System"),this.$site.api.get("/api/filesystem/applications",{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var s=t.getData("applications");null!==s&&(e.applications=s.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},components:{"user-selector":n},methods:{selected:function(e){this.fileUser=e},query:function(){var e=this;if(null!==this.fileUser){this.fetched=!1;var t={userId:this.fileUser.id};"any"!==this.selectedApp&&(t.appTag=this.selectedApp),this.$site.api.get("/api/filesystem",t).then((function(t){if(t.hasError())e.$site.toast(e,t);else{e.fetched=!0;var s=t.getData("files");null!==s&&(e.results=s.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))}}}};var l=s(31883),o=s.n(l),a=s(61733),c={insert:"head",singleton:!1};o()(a.Z,c);a.Z.locals;var d=(0,s(16436).Z)(r,i,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",[e._v("User")]),e._v(" "),s("th",[e._v("Name")]),e._v(" "),s("th",[e._v("File")]),e._v(" "),s("th",[e._v("Created")]),e._v(" "),s("th",[e._v("Modified")])])}],!1,null,null,null);d.options.__file="vendor/cl/filesystem/js/Console/FileSystemComponent.vue";const u=d.exports;new function(e){var t=e.console;t.tables.add({title:"FileSystem",order:30,api:"/api/filesystem/tables"}),t.components.addOption({atLeast:Site.User.STAFF,page:{title:"Main",route:"",order:1},section:{title:"Site",order:1},title:"File System",order:10,route:"/filesystem",routes:[{route:"/filesystem",component:u}]})}(Site.site,Site.site.console)},61733:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(72927),n=s.n(i)()((function(e){return e[1]}));n.push([e.id,"div.filesystem-editor-cl label span:first-child{display:inline-block;width:10em;text-align:right;padding:0 .25em 0 0}div.filesystem-editor-cl input[type=text],div.filesystem-editor-cl option{padding:1px .25em}div.filesystem-editor-cl select{min-width:15em}div.filesystem-editor-cl button:disabled{color:gray}",""]);const r=n}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,e=[],i.O=(t,s,n,r)=>{if(!s){var l=1/0;for(c=0;c<e.length;c++){for(var[s,n,r]=e[c],o=!0,a=0;a<s.length;a++)(!1&r||l>=r)&&Object.keys(i.O).every((e=>i.O[e](s[a])))?s.splice(a--,1):(o=!1,r<l&&(l=r));o&&(e.splice(c--,1),t=n())}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,n,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=633,(()=>{var e={633:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var n,r,[l,o,a]=s,c=0;for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(a)var d=a(i);for(t&&t(s);c<l.length;c++)r=l[c],i.o(e,r)&&e[r]&&e[r][0](),e[l[c]]=0;return i.O(d)},s=self.webpackChunkcourselib=self.webpackChunkcourselib||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=i.O(void 0,[736],(()=>i(46455)));n=i.O(n)})();