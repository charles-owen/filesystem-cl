"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[633],{62069:(e,t,s)=>{var l=s(66759),i={class:"content filesystem-editor-cl"},n={class:"full"},o=(0,l._)("span",null,"Application: ",-1),r=(0,l._)("option",null,"any",-1),a=(0,l._)("span",null,"User: ",-1),c={class:"center"},u=["disabled"],d={key:0},p={key:0,class:"small"},f=(0,l._)("tr",null,[(0,l._)("th",null,"User"),(0,l._)("th",null,"Name"),(0,l._)("th",null,"File"),(0,l._)("th",null,"Created"),(0,l._)("th",null,"Modified")],-1),h=["href"],m=["href"],y=["src"],g={key:1,class:"centerbox secondb center"},v=(0,l._)("p",{class:"centerbox primary"},"CourseLib includes a simple file system that is mainly provided to allow quizzes or other assignments to be persistent in the system and to provide a way for applications such as Cirsim to save and load files. It is not meant to be a way to turn in content, though this interface can be used to load content from the file system for any user.",-1);var _=Site.UserSelectorVue;const b={extends:Site.ConsoleComponentBase,data:function(){return{selectedApp:"any",fileUser:null,applications:[],fetched:!1,results:[]}},mounted:function(){var e=this;this.$root.setTitle(": File System"),this.$site.api.get("/api/filesystem/applications",{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var s=t.getData("applications");null!==s&&(e.applications=s.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},components:{"user-selector":_},methods:{selected:function(e){this.fileUser=e},query:function(){var e=this;if(null!==this.fileUser){this.fetched=!1;var t={userId:this.fileUser.id};"any"!==this.selectedApp&&(t.appTag=this.selectedApp),this.$site.api.get("/api/filesystem",t).then((function(t){if(t.hasError())e.$site.toast(e,t);else{e.fetched=!0;var s=t.getData("files");null!==s&&(e.results=s.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))}}}};var w=s(54571),S=s.n(w),k=s(50063),D=s.n(k),A=s(14971),U=s.n(A),z=s(78446),C=s.n(z),$=s(71984),q=s.n($),x=s(63641),F=s.n(x),Z=s(78141),T={};T.styleTagTransform=F(),T.setAttributes=C(),T.insert=U().bind(null,"head"),T.domAPI=D(),T.insertStyleElement=q();S()(Z.Z,T);Z.Z&&Z.Z.locals&&Z.Z.locals;const M=(0,s(87619).Z)(b,[["render",function(e,t,s,_,b,w){var S=(0,l.up)("user-selector");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",n,[(0,l._)("p",null,[(0,l._)("label",null,[o,(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedApp=t})},[r,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.applications,(function(e){return(0,l.wg)(),(0,l.iD)("option",null,(0,l.zw)(e),1)})),256))],512),[[l.bM,e.selectedApp]])])]),(0,l._)("p",null,[(0,l._)("label",null,[a,(0,l.Wm)(S,{selected:w.selected},null,8,["selected"])])]),(0,l._)("p",c,[(0,l._)("button",{disabled:null===e.user,onClick:t[1]||(t[1]=(0,l.iM)((function(e){return w.query()}),["prevent"]))},"Query",8,u)]),e.fetched?((0,l.wg)(),(0,l.iD)("div",d,[e.results.length>0?((0,l.wg)(),(0,l.iD)("table",p,[f,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.results,(function(t){return(0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",null,(0,l.zw)(t.user),1),(0,l._)("td",null,(0,l.zw)(t.username),1),(0,l._)("td",null,[(0,l._)("a",{href:e.root+"/cl/filesystem/view/"+t.id,target:"_file"},(0,l.zw)(t.name),9,h),(0,l._)("a",{href:e.root+"/cl/filesystem/download/"+t.id},[(0,l._)("img",{src:e.root+"/vendor/cl/site/img/download.png"},null,8,y)],8,m)]),(0,l._)("td",null,(0,l.zw)(t.createdStr),1),(0,l._)("td",null,(0,l.zw)(t.modifiedStr),1)])})),256))])):(0,l.kq)("v-if",!0),0===e.results.length?((0,l.wg)(),(0,l.iD)("p",g,"No files...")):(0,l.kq)("v-if",!0)])):(0,l.kq)("v-if",!0),v])])}]]);new function(e){var t=e.console;t.tables.add({title:"FileSystem",order:30,api:"/api/filesystem/tables"}),t.components.addOption({atLeast:Site.User.STAFF,page:{title:"Main",route:"",order:1},section:{title:"Site",order:1},title:"File System",order:10,route:"/filesystem",routes:[{route:"/filesystem",component:M}]})}(Site.site,Site.site.console)},78141:(e,t,s)=>{s.d(t,{Z:()=>r});var l=s(47289),i=s.n(l),n=s(38306),o=s.n(n)()(i());o.push([e.id,"div.filesystem-editor-cl label span:first-child{display:inline-block;width:10em;text-align:right;padding:0 .25em 0 0}div.filesystem-editor-cl input[type=text],div.filesystem-editor-cl option{padding:1px .25em}div.filesystem-editor-cl select{min-width:15em}div.filesystem-editor-cl button:disabled{color:gray}",""]);const r=o}},e=>{e.O(0,[736,828,530,592],(()=>{return t=62069,e(e.s=t);var t}));e.O()}]);