!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FileSystemConsole=t():e.FileSystemConsole=t()}(window,(function(){return function(e){function t(t){for(var o,s,r=t[0],i=t[1],l=t[2],d=0,a=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(I,s)&&I[s]&&a.push(I[s][0]),I[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(L&&L(t);a.length;)a.shift()();return A.push.apply(A,l||[]),n()}function n(){for(var e,t=0;t<A.length;t++){for(var n=A[t],o=!0,s=1;s<n.length;s++){var r=n[s];0!==I[r]&&(o=!1)}o&&(A.splice(t--,1),e=M(M.s=n[0]))}return e}var o=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(e,t){!function(e,t){if(!w[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--_&&0===j&&S()}(e,t),o&&o(e,t)};var s,r=!0,i="31514576c38d5e41c522",l={},d=[],a=[];function c(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:s!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)n._acceptedDependencies[e[o]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(m={})[t]=e[t],f("ready");break;case"ready":P(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:C,apply:D,status:function(e){if(!e)return p;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:l[t]};return s=void 0,n}var u=[],p="idle";function f(e){p=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var v,m,y,h,_=0,j=0,b={},g={},w={};function x(e){return+e+""===e?+e:e}function C(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,s=M.p+""+i+".hot-update.json";o.open("GET",s,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+s+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+s+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(F()?"ready":"idle"),null;g={},b={},w=e.c,y=e.h,f("prepare");var t=new Promise((function(e,t){v={resolve:e,reject:t}}));for(var n in m={},I)O(n);return"prepare"===p&&0===j&&0===_&&S(),t}));var t}function O(e){w[e]?(g[e]=!0,_++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=M.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function S(){f("ready");var e=v;if(v=null,e)if(r)Promise.resolve().then((function(){return D(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(x(n));e.resolve(t)}}function D(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var o,r,a,c,u;function p(e){for(var t=[e],n={},o=t.map((function(e){return{chain:[e],id:e}}));o.length>0;){var s=o.pop(),r=s.id,i=s.chain;if((c=E[r])&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:r};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:r};for(var l=0;l<c.parents.length;l++){var d=c.parents[l],a=E[d];if(a){if(a.hot._declinedDependencies[r])return{type:"declined",chain:i.concat([d]),moduleId:r,parentId:d};-1===t.indexOf(d)&&(a.hot._acceptedDependencies[r]?(n[d]||(n[d]=[]),v(n[d],[r])):(delete n[d],t.push(d),o.push({chain:i.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}F();var _={},j=[],b={},g=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var C in m)if(Object.prototype.hasOwnProperty.call(m,C)){var O;u=x(C),O=m[C]?p(u):{type:"disposed",moduleId:C};var S=!1,D=!1,P=!1,A="";switch(O.chain&&(A="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(S=new Error("Aborted because of self decline: "+O.moduleId+A));break;case"declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+A));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(O),n.ignoreUnaccepted||(S=new Error("Aborted because "+u+" is not accepted"+A));break;case"accepted":n.onAccepted&&n.onAccepted(O),D=!0;break;case"disposed":n.onDisposed&&n.onDisposed(O),P=!0;break;default:throw new Error("Unexception type "+O.type)}if(S)return f("abort"),Promise.reject(S);if(D)for(u in b[u]=m[u],v(j,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,u)&&(_[u]||(_[u]=[]),v(_[u],O.outdatedDependencies[u]));P&&(v(j,[O.moduleId]),b[u]=g)}var H,k=[];for(r=0;r<j.length;r++)u=j[r],E[u]&&E[u].hot._selfAccepted&&b[u]!==g&&!E[u].hot._selfInvalidated&&k.push({module:u,parents:E[u].parents.slice(),errorHandler:E[u].hot._selfAccepted});f("dispose"),Object.keys(w).forEach((function(e){!1===w[e]&&function(e){delete I[e]}(e)}));var U,L,R=j.slice();for(;R.length>0;)if(u=R.pop(),c=E[u]){var q={},$=c.hot._disposeHandlers;for(a=0;a<$.length;a++)(o=$[a])(q);for(l[u]=q,c.hot.active=!1,delete E[u],delete _[u],a=0;a<c.children.length;a++){var T=E[c.children[a]];T&&((H=T.parents.indexOf(u))>=0&&T.parents.splice(H,1))}}for(u in _)if(Object.prototype.hasOwnProperty.call(_,u)&&(c=E[u]))for(L=_[u],a=0;a<L.length;a++)U=L[a],(H=c.children.indexOf(U))>=0&&c.children.splice(H,1);f("apply"),void 0!==y&&(i=y,y=void 0);for(u in m=void 0,b)Object.prototype.hasOwnProperty.call(b,u)&&(e[u]=b[u]);var N=null;for(u in _)if(Object.prototype.hasOwnProperty.call(_,u)&&(c=E[u])){L=_[u];var z=[];for(r=0;r<L.length;r++)if(U=L[r],o=c.hot._acceptedDependencies[U]){if(-1!==z.indexOf(o))continue;z.push(o)}for(r=0;r<z.length;r++){o=z[r];try{o(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:u,dependencyId:L[r],error:e}),n.ignoreErrored||N||(N=e)}}}for(r=0;r<k.length;r++){var J=k[r];u=J.module,d=J.parents,s=u;try{M(u)}catch(e){if("function"==typeof J.errorHandler)try{J.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:t,originalError:e}),n.ignoreErrored||N||(N=t),N||(N=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:u,error:e}),n.ignoreErrored||N||(N=e)}}if(N)return f("fail"),Promise.reject(N);if(h)return t(n).then((function(e){return j.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(j)}))}(t=t||{})}function F(){if(h)return m||(m={}),h.forEach(P),h=void 0,!0}function P(t){Object.prototype.hasOwnProperty.call(m,t)||(m[t]=e[t])}var E={},I={8:0},A=[];function M(t){if(E[t])return E[t].exports;var n=E[t]={i:t,l:!1,exports:{},hot:c(t),parents:(a=d,d=[],a),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=E[e];if(!t)return M;var n=function(n){return t.hot.active?(E[n]?-1===E[n].parents.indexOf(e)&&E[n].parents.push(e):(d=[e],s=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),d=[]),M(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return M[e]},set:function(t){M[e]=t}}};for(var r in M)Object.prototype.hasOwnProperty.call(M,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(n,r,o(r));return n.e=function(e){return"ready"===p&&f("prepare"),j++,M.e(e).then(t,(function(e){throw t(),e}));function t(){j--,"prepare"===p&&(b[e]||O(e),0===j&&0===_&&S())}},n.t=function(e,t){return 1&t&&(e=n(e)),M.t(e,-2&t)},n}(t)),n.l=!0,n.exports}M.m=e,M.c=E,M.d=function(e,t,n){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},M.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(e,t){if(1&t&&(e=M(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(M.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)M.d(n,o,function(t){return e[t]}.bind(null,o));return n},M.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="/cl/dist/",M.h=function(){return i};var H=window.webpackJsonp_name_=window.webpackJsonp_name_||[],k=H.push.bind(H);H.push=t,H=H.slice();for(var U=0;U<H.length;U++)t(H[U]);var L=k;return A.push(["./vendor/cl/filesystem/js/Console/index.js",0]),n()}({"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){(t=n("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,"div.filesystem-editor-cl label span:first-child{display:inline-block;width:10em;text-align:right;padding:0 0.25em 0 0}div.filesystem-editor-cl input[type=text],div.filesystem-editor-cl option{padding:1px 0.25em}div.filesystem-editor-cl select{min-width:15em}div.filesystem-editor-cl button:disabled{color:gray}\n",""]),e.exports=t},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){var o=n("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var s=(0,n("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("930d9f6a",o,!1,{});o.locals||e.hot.accept("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&",(function(){var t=n("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof t&&(t=[[e.i,t,""]]),s(t)})),e.hot.dispose((function(){s()}))},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue":function(e,t,n){"use strict";var o=n("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&"),s=n("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=script&lang=js&"),r=(n("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(r.a)(s.a,o.render,o.staticRenderFns,!1,null,null,null),l=n("./node_modules/vue-hot-reload-api/dist/index.js");l.install(n("./node_modules/vue/dist/vue.esm.js")),l.compatible&&(e.hot.accept(),l.isRecorded("138ac23b")?l.reload("138ac23b",i.options):l.createRecord("138ac23b",i.options),e.hot.accept("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&",function(e){o=n("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&"),l.rerender("138ac23b",{render:o.render,staticRenderFns:o.staticRenderFns})}.bind(this))),i.options.__file="vendor/cl/filesystem/js/Console/FileSystemComponent.vue",t.a=i.exports},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";var o=Site.UserSelectorVue,s={extends:Site.ConsoleComponentBase,data:function(){return{selectedApp:"any",fileUser:null,applications:[],fetched:!1,results:[]}},mounted:function(){var e=this;this.$parent.setTitle(": File System"),this.$site.api.get("/api/filesystem/applications",{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var n=t.getData("applications");null!==n&&(e.applications=n.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},components:{"user-selector":o},methods:{selected:function(e){this.fileUser=e},query:function(){var e=this;if(null!==this.fileUser){this.fetched=!1;var t={userId:this.fileUser.id};"any"!==this.selectedApp&&(t.appTag=this.selectedApp),this.$site.api.get("/api/filesystem",t).then((function(t){if(t.hasError())e.$site.toast(e,t);else{e.fetched=!0;var n=t.getData("files");null!==n&&(e.results=n.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))}}}};t.a=s},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){"use strict";n("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&")},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&":function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return s}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content filesystem-editor-cl"},[n("div",{staticClass:"full"},[n("p",[n("label",[n("span",[e._v("Application: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedApp,expression:"selectedApp"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedApp=t.target.multiple?n:n[0]}}},[n("option",[e._v("any")]),e._v(" "),e._l(e.applications,(function(t){return n("option",[e._v(e._s(t))])}))],2)])]),e._v(" "),n("p",[n("label",[n("span",[e._v("User: ")]),n("user-selector",{attrs:{selected:e.selected}})],1)]),e._v(" "),n("p",{staticClass:"center"},[n("button",{attrs:{disabled:null===e.user},on:{click:function(t){return t.preventDefault(),e.query()}}},[e._v("Query")])]),e._v(" "),e.fetched?n("div",[e.results.length>0?n("table",{staticClass:"small"},[e._m(0),e._v(" "),e._l(e.results,(function(t){return n("tr",[n("td",[e._v(e._s(t.user))]),e._v(" "),n("td",[e._v(e._s(t.username))]),e._v(" "),n("td",[n("a",{attrs:{href:e.root+"/cl/filesystem/view/"+t.id,target:"_file"}},[e._v(e._s(t.name))]),e._v(" "),n("a",{attrs:{href:e.root+"/cl/filesystem/download/"+t.id}},[n("img",{attrs:{src:e.root+"/vendor/cl/site/img/download.png"}})])]),e._v(" "),n("td",[e._v(e._s(t.createdStr))]),e._v(" "),n("td",[e._v(e._s(t.modifiedStr))])])}))],2):e._e(),e._v(" "),0===e.results.length?n("p",{staticClass:"centerbox secondb center"},[e._v("No files...")]):e._e()]):e._e(),e._v(" "),n("p",{staticClass:"centerbox primary"},[e._v("CourseLib includes a simple file system that is\n      mainly provided to allow quizzes or other assignments to be persistent in the\n      system and to provide a way for applications such as Cirsim to save and\n      load files. It is not meant to be a way to turn in content, though this interface\n      can be used to load content from the file system for any user.")])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("User")]),e._v(" "),n("th",[e._v("Name")]),e._v(" "),n("th",[e._v("File")]),e._v(" "),n("th",[e._v("Created")]),e._v(" "),n("th",[e._v("Modified")])])}];o._withStripped=!0},"./vendor/cl/filesystem/js/Console/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue");new function(e){var t=e.console;t.tables.add({title:"FileSystem",order:30,api:"/api/filesystem/tables"}),t.components.addOption({atLeast:Users.User.STAFF,page:{title:"Main",route:"",order:1},section:{title:"Site",order:1},title:"File System",order:10,route:"/filesystem",routes:[{route:"/filesystem",component:o.a}]})}(Site.site,Site.site.console)}})}));