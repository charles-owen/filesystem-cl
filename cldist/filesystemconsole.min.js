!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.FileSystemConsole=s():e.FileSystemConsole=s()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[17],{"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\ndiv.filesystem-editor-cl label span:first-child {\n  display: inline-block;\n  width: 10em;\n  text-align: right;\n  padding: 0 0.25em 0 0;\n}\ndiv.filesystem-editor-cl input[type=text],\ndiv.filesystem-editor-cl option {\n  padding: 1px 0.25em;\n}\ndiv.filesystem-editor-cl select {\n  min-width: 15em;\n}\ndiv.filesystem-editor-cl button:disabled {\n  color: gray;\n}\n\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\na.searcher[data-v-e8e7f840] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 21px;\n  text-align: center;\n  background: #aaaaaa;\n}\na.searcher img[data-v-e8e7f840] {\n  height: 16px;\n  width: 16px;\n  vertical-align: -4px;\n}\ndiv.cl-input[data-v-e8e7f840] {\n  display: inline-block;\n  position: relative;\n  width: 300px;\n}\ndiv.cl-input input[data-v-e8e7f840] {\n  width: 100%;\n  border: 1px solid #cccccc;\n}\ndiv.cl-input div.cl-results[data-v-e8e7f840] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 100%;\n  overflow: hidden;\n  font-size: 0.85em;\n  background: white;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n}\ndiv.cl-input div.cl-results div.cl-result-list[data-v-e8e7f840] {\n  display: table;\n  width: 100%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div[data-v-e8e7f840] {\n  display: table-row;\n  border-bottom: 1px solid #888888;\n  cursor: pointer;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840] {\n  display: table-cell;\n  white-space: nowrap;\n  text-align: left;\n  padding: 0.5em 0.25em;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-e8e7f840] {\n  text-decoration: none;\n  color: black;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-e8e7f840]:hover {\n  color: #888888;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840]:first-child {\n  font-style: italic;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840]:last-child {\n  overflow: hidden;\n  width: 99%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div:first-child span[data-v-e8e7f840],\ndiv.cl-input div.cl-results div.cl-result-list div:last-child span[data-v-e8e7f840] {\n  padding: 0.25em 0.25em;\n}\ndiv.cl-input div.cl-results div.statement[data-v-e8e7f840] {\n  width: 100%;\n  text-align: center;\n  font-style: italic;\n}\n\n",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var l=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var o=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("6419f83c",l,!1,{});l.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof s&&(s=[[e.i,s,""]]),o(s)}),e.hot.dispose(function(){o()})},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){var l=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var o=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("fdefe8da",l,!1,{});l.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");"string"==typeof s&&(s=[[e.i,s,""]]),o(s)}),e.hot.dispose(function(){o()})},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue":function(e,s,t){"use strict";var l=t("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&"),o=t("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=script&lang=js&"),n=(t("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(n.a)(o.a,l.render,l.staticRenderFns,!1,null,null,null),d=t("./node_modules/vue-hot-reload-api/dist/index.js");d.install(t("./node_modules/vue/dist/vue.esm.js")),d.compatible&&(e.hot.accept(),e.hot.data?d.reload("138ac23b",i.options):d.createRecord("138ac23b",i.options),e.hot.accept("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&",function(e){l=t("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&"),d.rerender("138ac23b",{render:l.render,staticRenderFns:l.staticRenderFns})})),i.options.__file="vendor/cl/filesystem/js/Console/FileSystemComponent.vue",s.a=i.exports},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var l={data:function(){return{selectedApp:"any",user:null,applications:[],fetched:!1,results:[],toView:Site.root+"/cl/filesystem/view",toDownload:Site.root+"/cl/filesystem/download",toDownloadImg:Site.root+"/vendor/cl/site/img/download.png"}},mounted:function(){var e=this;this.$parent.setTitle(": File System"),Site.api.get("/api/filesystem/applications",{}).then(function(s){if(s.hasError())Site.toast(e,s);else{var t=s.getData("applications");null!==t&&(e.applications=t.attributes)}}).catch(function(s){console.log(s),Site.toast(e,s)})},components:{"user-selector":t("./vendor/cl/users/js/Lib/UserSelectorVue.vue").a},methods:{selected:function(e){this.user=e},open:function(e){console.log(e)},query:function(){var e=this;if(null!==this.user){this.fetched=!1;var s={userId:this.user.id};"any"!==this.application&&(s.appTag=this.application),Site.api.get("/api/filesystem",s).then(function(s){if(s.hasError())Site.toast(e,s);else{e.fetched=!0;var t=s.getData("files");null!==t&&(e.results=t.attributes)}}).catch(function(s){console.log(s),Site.toast(e,s)})}}}};s.a=l},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){"use strict";var l=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=style&index=0&lang=scss&");t.n(l).a},"./vendor/cl/filesystem/js/Console/FileSystemComponent.vue?vue&type=template&id=138ac23b&":function(e,s,t){"use strict";t.r(s);var l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content filesystem-editor-cl"},[t("div",{staticClass:"full"},[t("p",[t("label",[t("span",[e._v("Application: ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedApp,expression:"selectedApp"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedApp=s.target.multiple?t:t[0]}}},[t("option",[e._v("any")]),e._v(" "),e._l(e.applications,function(s){return t("option",[e._v(e._s(s))])})],2)])]),e._v(" "),t("p",[t("label",[t("span",[e._v("User: ")]),t("user-selector",{attrs:{selected:e.selected}})],1)]),e._v(" "),t("p",{staticClass:"center"},[t("button",{attrs:{disabled:null===e.user},on:{click:function(s){s.preventDefault(),e.query()}}},[e._v("Query")])]),e._v(" "),e.fetched?t("div",[e.results.length>0?t("table",{staticClass:"small"},[e._m(0),e._v(" "),e._l(e.results,function(s){return t("tr",[t("td",[e._v(e._s(s.user))]),e._v(" "),t("td",[e._v(e._s(s.username))]),e._v(" "),t("td",[t("a",{attrs:{href:e.toView+"/"+s.id,target:"_file"}},[e._v(e._s(s.name))]),e._v(" "),t("a",{attrs:{href:e.toDownload+"/"+s.id}},[t("img",{attrs:{src:e.toDownloadImg}})])]),e._v(" "),t("td",[e._v(e._s(s.createdStr))]),e._v(" "),t("td",[e._v(e._s(s.modifiedStr))])])})],2):e._e(),e._v(" "),0===e.results.length?t("p",{staticClass:"centerbox secondb center"},[e._v("No files...")]):e._e()]):e._e(),e._v(" "),t("p",{staticClass:"centerbox primary"},[e._v("CourseLib includes a simple file system that is\n      mainly provided to allow quizzes or other assignments to be persistent in the\n      system and to provide a way for applications such as Cirsim to save and\n      load files. It is not meant to be a way to turn in content, though this interface\n      can be used to load content from the file system for any user.")])])])},o=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",[t("th",[e._v("User")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("File")]),e._v(" "),t("th",[e._v("Created")]),e._v(" "),t("th",[e._v("Modified")])])}];l._withStripped=!0,t.d(s,"render",function(){return l}),t.d(s,"staticRenderFns",function(){return o})},"./vendor/cl/filesystem/js/Console/index.js":function(e,s,t){"use strict";t.r(s);var l=t("./vendor/cl/filesystem/js/Console/FileSystemComponent.vue");new function(e){var s=e.console;s.tables.add({title:"FileSystem",order:5,api:"/api/filesystem/tables"}),s.components.addOption({atLeast:Users.User.STAFF,page:{title:"Main",route:"",order:1},section:{title:"Site",order:1},title:"File System",order:10,route:"/filesystem",routes:[{route:"/filesystem",component:l.a}]})}(Site.Site,Site.Console)},"./vendor/cl/users/js/Lib/UserSelectorVue.vue":function(e,s,t){"use strict";var l=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&"),o=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=script&lang=js&"),n=(t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(n.a)(o.a,l.render,l.staticRenderFns,!1,null,"e8e7f840",null),d=t("./node_modules/vue-hot-reload-api/dist/index.js");d.install(t("./node_modules/vue/dist/vue.esm.js")),d.compatible&&(e.hot.accept(),e.hot.data?d.reload("e8e7f840",i.options):d.createRecord("e8e7f840",i.options),e.hot.accept("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&",function(e){l=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&"),d.rerender("e8e7f840",{render:l.render,staticRenderFns:l.staticRenderFns})})),i.options.__file="vendor/cl/users/js/Lib/UserSelectorVue.vue",s.a=i.exports},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var l={props:["selected"],data:function(){return{query:"",result:[],noresult:!1,seq:1,fetched:!1,timer:null,set:!1,more:!1,searcher:Site.root+"/vendor/cl/site/img/search.png",deleter:Site.root+"/vendor/cl/site/img/x.png"}},watch:{query:function(e,s){var t=this;this.set?this.set=!1:(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.fetch(e)},300))}},methods:{fetch:function(e){var s=this;if(console.log("fetch"),console.log(e),null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.selected(null),(e=e.trim()).length<2)return this.fetched=!1,void(this.result=[]);this.seq++,Site.api.get("/api/users",{search:e,seq:this.seq,limit:20}).then(function(e){if(e.hasError())Site.toast(s,e);else{if(+e.getData("seq").id!==s.seq)return;var t=e.getData("users");null!==t&&(s.result=[],s.more=!1,t.attributes.forEach(function(e){if("yes"!==e.more){var t=new Users.User(e);s.result.push(t)}else s.more=!0}),s.noresult=0===s.result.length)}}).catch(function(e){console.log(e),Site.toast(s,e)})},selectUser:function(e){this.query=e.name,this.set=!0,this.result=[],this.noresult=!1,this.more=!1,this.selected(e)},clear:function(){this.seq++,this.result=[],this.noresult=!1,this.more=!1,this.query="",this.selected(null)}}};s.a=l},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){"use strict";var l=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");t.n(l).a},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&":function(e,s,t){"use strict";t.r(s);var l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",[t("div",{staticClass:"cl-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",maxlength:"150"},domProps:{value:e.query},on:{input:function(s){s.target.composing||(e.query=s.target.value)}}}),e._v(" "),t("a",{staticClass:"searcher",on:{click:function(s){s.preventDefault(),e.fetch(e.query)}}},[t("img",{attrs:{src:e.searcher}})]),e._v(" "),e.result.length>0||e.noresult?t("div",{staticClass:"cl-results"},[t("div",{staticClass:"cl-result-list"},e._l(e.result,function(s){return t("div",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.userId))])]),e._v(" "),t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.name))])])])})),e._v(" "),e.noresult?t("div",{staticClass:"statement"},[e._v("No results...")]):e._e(),e._v(" "),e.more?t("div",{staticClass:"statement"},[e._v("...more...")]):e._e()]):e._e()]),e._v(" "),t("a",{on:{click:function(s){return s.preventDefault(),e.clear(s)}}},[t("img",{attrs:{src:e.deleter}})])])},o=[];l._withStripped=!0,t.d(s,"render",function(){return l}),t.d(s,"staticRenderFns",function(){return o})}},[["./vendor/cl/filesystem/js/Console/index.js",1,0]]])});