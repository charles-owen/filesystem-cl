"use strict";(self.webpackChunkcourselib=self.webpackChunkcourselib||[]).push([[633],{82053:(e,t,l)=>{var s=l(34802),i={class:"content filesystem-editor-cl"},n={class:"full"},o=(0,s._)("span",null,"Application: ",-1),r=(0,s._)("option",null,"any",-1),a=(0,s._)("span",null,"User: ",-1),c={class:"center"},u=["disabled"],d={key:0},p={key:0,class:"small"},f=(0,s._)("tr",null,[(0,s._)("th",null,"User"),(0,s._)("th",null,"Name"),(0,s._)("th",null,"File"),(0,s._)("th",null,"Created"),(0,s._)("th",null,"Modified")],-1),h=["href"],m=["href"],y=["src"],g={key:1,class:"centerbox secondb center"},v=(0,s._)("p",{class:"centerbox primary"},"CourseLib includes a simple file system that is mainly provided to allow quizzes or other assignments to be persistent in the system and to provide a way for applications such as Cirsim to save and load files. It is not meant to be a way to turn in content, though this interface can be used to load content from the file system for any user.",-1);var b=Site.UserSelectorVue;const _={extends:Site.ConsoleComponentBase,data:function(){return{selectedApp:"any",fileUser:null,applications:[],fetched:!1,results:[]}},mounted:function(){var e=this;this.$root.setTitle(": File System"),this.$site.api.get("/api/filesystem/applications",{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var l=t.getData("applications");null!==l&&(e.applications=l.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},components:{"user-selector":b},methods:{selected:function(e){this.fileUser=e},query:function(){var e=this;if(null!==this.fileUser){this.fetched=!1;var t={userId:this.fileUser.id};"any"!==this.selectedApp&&(t.appTag=this.selectedApp),this.$site.api.get("/api/filesystem",t).then((function(t){if(t.hasError())e.$site.toast(e,t);else{e.fetched=!0;var l=t.getData("files");null!==l&&(e.results=l.attributes)}})).catch((function(t){console.log(t),e.$site.toast(e,t)}))}}}};var w=l(68572),S=l.n(w),k=l(84879),D=l.n(k),A=l(55438),U=l.n(A),z=l(59425),C=l.n(z),$=l(37930),q=l.n($),x=l(76686),F=l.n(x),Z=l(4680),T={};T.styleTagTransform=F(),T.setAttributes=C(),T.insert=U().bind(null,"head"),T.domAPI=D(),T.insertStyleElement=q();S()(Z.Z,T);Z.Z&&Z.Z.locals&&Z.Z.locals;const M=(0,l(76906).Z)(_,[["render",function(e,t,l,b,_,w){var S=(0,s.up)("user-selector");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",n,[(0,s._)("p",null,[(0,s._)("label",null,[o,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedApp=t})},[r,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.applications,(function(e){return(0,s.wg)(),(0,s.iD)("option",null,(0,s.zw)(e),1)})),256))],512),[[s.bM,e.selectedApp]])])]),(0,s._)("p",null,[(0,s._)("label",null,[a,(0,s.Wm)(S,{selected:w.selected},null,8,["selected"])])]),(0,s._)("p",c,[(0,s._)("button",{disabled:null===e.user,onClick:t[1]||(t[1]=(0,s.iM)((function(e){return w.query()}),["prevent"]))},"Query",8,u)]),e.fetched?((0,s.wg)(),(0,s.iD)("div",d,[e.results.length>0?((0,s.wg)(),(0,s.iD)("table",p,[f,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.results,(function(t){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,(0,s.zw)(t.user),1),(0,s._)("td",null,(0,s.zw)(t.username),1),(0,s._)("td",null,[(0,s._)("a",{href:e.root+"/cl/filesystem/view/"+t.id,target:"_file"},(0,s.zw)(t.name),9,h),(0,s._)("a",{href:e.root+"/cl/filesystem/download/"+t.id},[(0,s._)("img",{src:e.root+"/vendor/cl/site/img/download.png"},null,8,y)],8,m)]),(0,s._)("td",null,(0,s.zw)(t.createdStr),1),(0,s._)("td",null,(0,s.zw)(t.modifiedStr),1)])})),256))])):(0,s.kq)("v-if",!0),0===e.results.length?((0,s.wg)(),(0,s.iD)("p",g,"No files...")):(0,s.kq)("v-if",!0)])):(0,s.kq)("v-if",!0),v])])}]]);new function(e){var t=e.console;t.tables.add({title:"FileSystem",order:30,api:"/api/filesystem/tables"}),t.components.addOption({atLeast:Site.User.STAFF,page:{title:"Main",route:"",order:1},section:{title:"Site",order:1},title:"File System",order:10,route:"/filesystem",routes:[{route:"/filesystem",component:M}]})}(Site.site,Site.site.console)},4680:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(3041),i=l.n(s),n=l(52281),o=l.n(n)()(i());o.push([e.id,"div.filesystem-editor-cl label span:first-child{display:inline-block;width:10em;text-align:right;padding:0 .25em 0 0}div.filesystem-editor-cl input[type=text],div.filesystem-editor-cl option{padding:1px .25em}div.filesystem-editor-cl select{min-width:15em}div.filesystem-editor-cl button:disabled{color:gray}",""]);const r=o}},e=>{e.O(0,[736,828,530,592],(()=>{return t=82053,e(e.s=t);var t}));e.O()}]);